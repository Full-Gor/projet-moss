{% extends 'base.html.twig' %}

{% block title %}
	{{ action }}
	un produit - MossAir
{% endblock %}

{% block body %}
	<div class="container mt-4">
		<div class="row justify-content-center">
			<div class="col-md-8">
				<div class="card">
					<div class="card-header">
						<h4 class="mb-0">{{ action }}
							un produit</h4>
					</div>
					<div class="card-body">
						<form method="POST" enctype="multipart/form-data">
							<div class="mb-3">
								<label for="nom" class="form-label">Nom du produit *</label>
								<input type="text" class="form-control" id="nom" name="nom" value="{{ produit ? produit.nom : '' }}" required>
							</div>

							<div class="mb-3">
								<label for="description" class="form-label">Description</label>
								<textarea class="form-control" id="description" name="description" rows="3">{{ produit ? produit.description : '' }}</textarea>
							</div>

							<div class="mb-3">
								<label for="prix" class="form-label">Prix *</label>
								<div class="input-group">
									<input type="number" class="form-control" id="prix" name="prix" value="{{ produit ? produit.prix : '' }}" step="0.01" min="0" required>
									<span class="input-group-text">â‚¬</span>
								</div>
							</div>

							<div class="mb-3">
								<label for="image" class="form-label">Image</label>
								<input type="file" class="form-control" id="image" name="image" accept="image/*">
								{% if produit and produit.image %}
									<div class="mt-2">
										<small class="text-muted">Image actuelle :
											{{ produit.image }}</small>
										<br>
										<img src="{{ asset('images/produits/' ~ produit.image) }}" alt="{{ produit.nom }}" style="max-width: 200px; max-height: 200px; object-fit: cover; margin-top: 10px;">
									</div>
								{% endif %}
							</div>

							<div class="mb-3">
								<div class="form-check">
									<input class="form-check-input" type="checkbox" id="actif" name="actif" {{ produit and produit.actif ? 'checked' : '' }}>
									<label class="form-check-label" for="actif">
										Produit actif
									</label>
								</div>
							</div>

							<div class="d-flex gap-2">
								<button type="submit" class="btn btn-primary">
									<i class="fas fa-save"></i>
									{{ action }}
								</button>
								<a href="{{ path('app_admin_dashboard') }}" class="btn btn-secondary">
									<i class="fas fa-arrow-left"></i>
									Retour
								</a>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
