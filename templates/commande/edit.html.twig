{% extends 'base.html.twig' %}

{% block title %}Modifier la commande #{{ commande.id }}{% endblock %}

{% block body %}
<div class="container mt-5">
	<div class="row justify-content-center">
		<div class="col-md-6">
			<div class="card">
				<div class="card-header bg-warning text-dark">
					<h5 class="mb-0">
						<i class="fas fa-edit"></i>
						Modifier la commande #{{ commande.id }}
					</h5>
				</div>
				<div class="card-body">
					<form action="{{ path('app_commande_edit', {id: commande.id}) }}" method="POST">
						<div class="mb-3">
							<label class="form-label">Produit</label>
							<div class="d-flex align-items-center">
								{% if commande.image %}
									<img src="{{ asset('images/produits/' ~ commande.image) }}" alt="{{ commande.produit }}" style="width: 50px; height: 50px; object-fit: cover; border-radius: 8px;" class="me-2">
								{% endif %}
								<input type="text" class="form-control" value="{{ commande.produit }}" disabled>
							</div>
						</div>

						<div class="mb-3">
							<label for="quantite" class="form-label">Quantité</label>
							<input type="number" class="form-control" id="quantite" name="quantite" value="{{ commande.quantite }}" min="1" required>
						</div>

						<div class="mb-3">
							<label class="form-label">Prix unitaire</label>
							<input type="text" class="form-control" value="{{ commande.prix }}€" disabled>
						</div>

						<div class="mb-3">
							<label class="form-label">Date de commande</label>
							<input type="text" class="form-control" value="{{ commande.dateCommande|date('d/m/Y H:i') }}" disabled>
						</div>

						<div class="d-flex justify-content-between">
							<a href="{{ path('app_profile') }}" class="btn btn-secondary">
								<i class="fas fa-arrow-left"></i>
								Retour
							</a>
							<button type="submit" class="btn btn-success">
								<i class="fas fa-save"></i>
								Enregistrer
							</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}
